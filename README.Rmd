---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# dotdot

This package proposes an improved assignment using the shorthand  `..`.

Think about the `..` as the `:` of the `:=` sign laid horizontally.

Install it with `devtools::install_github("moodymudskipper/dotdot")`

```{r}
library(dotdot)
x <- y <- iris
x$Sepal.Length[5] <- x$Sepal.Length[5] + 3
y$Sepal.Length[5] := .. + 3
identical(x,y)

z <- factor(letters[1:3])
levels(z) := c(.., "level4")
z
```

The operator `:=` is used by prominent packages *`data.table`* and *`rlang`*
 (mostly through *`tidyverse`* functions), but they only use it parse expressions, 
 due to it's convenient operator precedence. It's not actually called. 
 
Thus *`dotdot`* is completely *`tidyverse`* and *`data.table`* compatible, and
some adhoc adjustments were made so it even works when the latter are attached
after *`dotdot`*.

```{r}
library(data.table)
levels(z) := c(.., "level5")
z
data <- as.data.table(head(iris))
data[,new_col := 3] # `:= ` works as if dotdot wasn't attached
data 
```

In case you've attached another package containing `:=`, you can use `dotdot_first()` to
make sure that our `:=` is not masked.
